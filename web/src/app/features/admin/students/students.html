<div class="animate-enter max-w-[1200px] mx-auto">

  <div class="flex flex-col md:flex-row justify-between items-end gap-4 mb-6">
    <div>
      <h2 class="text-3xl font-bold tracking-tight" style="color: var(--text-main)">Alumnos</h2>
      <p class="text-sm font-medium mt-1" style="color: var(--text-muted)">Gestión académica y expedientes</p>
    </div>
    
    <button 
      pButton 
      label="Nuevo Alumno" 
      icon="pi pi-plus" 
      class="shadow-lg shadow-blue-500/20">
    </button>
  </div>

  <div class="glass-panel rounded-[32px] overflow-hidden p-1">
    
    <div class="p-5 flex justify-end border-b border-[var(--glass-border)]">
      <span class="p-input-icon-left w-full md:w-auto">
        <i class="pi pi-search text-[var(--text-muted)]"></i>
        <input 
          pInputText 
          type="text" 
          placeholder="Buscar por nombre..." 
          class="w-full md:w-80 !bg-[var(--input-bg)] !border-none" />
      </span>
    </div>

    <p-table 
      [value]="students" 
      [paginator]="true" 
      [rows]="5" 
      [loading]="loading"
      styleClass="w-full"
      [tableStyle]="{'min-width': '60rem'}">
      
      <ng-template pTemplate="header">
        <tr>
          <th style="width:10%">ID</th>
          <th style="width:25%">Estudiante</th>
          <th style="width:20%">Carrera</th>
          <th style="width:10%">Semestre</th>
          <th style="width:15%">Estatus</th>
          <th style="width:20%; text-align: center;">Acciones</th>
        </tr>
      </ng-template>

      <ng-template pTemplate="body" let-student>
        <tr>
          <td>
            <span class="font-mono text-xs opacity-70">{{ student.matricula }}</span>
          </td>
          <td>
            <div class="flex items-center gap-3">
              <div class="w-8 h-8 rounded-full bg-gradient-to-br from-blue-400 to-cyan-300 flex items-center justify-center text-white text-xs font-bold shadow-md">
                {{ student.name.charAt(0) }}
              </div>
              <div class="flex flex-col">
                <span class="font-semibold">{{ student.name }}</span>
                <span class="text-xs text-[var(--text-muted)]">{{ student.email }}</span>
              </div>
            </div>
          </td>
          <td>{{ student.career }}</td>
          <td>
            <span class="px-3 py-1 rounded-full bg-[var(--input-bg)] text-xs font-bold">
              {{ student.semester }}º
            </span>
          </td>
          <td>
            <p-tag 
              [value]="student.status" 
              [severity]="getSeverity(student.status)" 
              [rounded]="true"
              styleClass="!px-3 !text-[11px] !font-bold">
            </p-tag>
          </td>
          <td class="text-center">
            <div class="flex justify-center gap-2">
              <button 
                pButton 
                icon="pi pi-pencil" 
                pTooltip="Editar" 
                tooltipPosition="top"
                class="p-button-rounded p-button-text !w-8 !h-8 !text-[var(--text-muted)] hover:!bg-[var(--input-bg)] hover:!text-[var(--primary)]">
              </button>
              
              <button 
                pButton 
                icon="pi pi-trash" 
                pTooltip="Dar de Baja"
                tooltipPosition="top" 
                class="p-button-rounded p-button-text !w-8 !h-8 !text-[var(--text-muted)] hover:!bg-red-500/10 hover:!text-red-500">
              </button>
            </div>
          </td>
        </tr>
      </ng-template>

      <ng-template pTemplate="emptymessage">
        <tr>
          <td colspan="6" class="text-center p-8">
            <div class="flex flex-col items-center opacity-50">
              <i class="pi pi-folder-open text-4xl mb-2"></i>
              <p>No se encontraron alumnos.</p>
            </div>
          </td>
        </tr>
      </ng-template>

    </p-table>

  </div>
</div>